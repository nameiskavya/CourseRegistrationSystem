{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/student.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/manage-student\", a1];\n};\nfunction ViewStudentsComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 3);\n    i0.ɵɵtext(14, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ViewStudentsComponent_tr_18_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const student_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteStudent(student_r1.studentId));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const student_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r1.studentId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r1.studentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r1.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r1.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 6, student_r1.birthDate, \"yyyy-MM-dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, student_r1.studentId));\n  }\n}\nexport class ViewStudentsComponent {\n  constructor(studentService) {\n    this.studentService = studentService;\n    this.students = [];\n  }\n  ngOnInit() {\n    this.getStudents();\n  }\n  getStudents() {\n    this.studentService.getStudents().subscribe(data => {\n      this.students = data;\n    });\n  }\n  deleteStudent(studentId) {\n    if (confirm('Are you sure you want to delete this student?')) {\n      this.studentService.deleteStudent(studentId).subscribe(() => {\n        this.getStudents();\n      });\n    }\n  }\n}\nViewStudentsComponent.ɵfac = function ViewStudentsComponent_Factory(t) {\n  return new (t || ViewStudentsComponent)(i0.ɵɵdirectiveInject(i1.StudentService));\n};\nViewStudentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewStudentsComponent,\n  selectors: [[\"app-view-students\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[\"routerLink\", \"/manage-student\", 1, \"btn\", \"btn-primary\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ViewStudentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵtext(1, \"Add Student\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 1)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"Student Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Student Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Birth Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ViewStudentsComponent_tr_18_Template, 17, 11, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.students);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAaIA,0BAAqC;IAC/BA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,aAAyC;;IAAAA,iBAAK;IAClDA,2BAAI;IACoFA,qBAAI;IAAAA,iBAAS;IACnGA,kCAA0E;IAA3CA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAgC;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAPvFA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAyB;IAAzBA,8CAAyB;IACzBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAoB;IAApBA,yCAAoB;IACpBA,eAAyC;IAAzCA,+EAAyC;IAEXA,eAAqD;IAArDA,6EAAqD;;;ACV7F,OAAM,MAAOC,qBAAqB;EAGhCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAFlC,aAAQ,GAAc,EAAE;EAE8B;EAEtDC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEQA,WAAW;IACjB,IAAI,CAACF,cAAc,CAACE,WAAW,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MACjD,IAAI,CAACC,QAAQ,GAAGD,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAE,aAAa,CAACC,SAAiB;IAC7B,IAAGC,OAAO,CAAC,+CAA+C,CAAC,EAAE;MAC3D,IAAI,CAACR,cAAc,CAACM,aAAa,CAACC,SAAS,CAAC,CAACJ,SAAS,CAAC,MAAK;QAC1D,IAAI,CAACD,WAAW,EAAE;MACpB,CAAC,CAAC;;EAEN;;AArBWJ,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVlChB,iCAA6D;MAAAA,2BAAW;MAAAA,iBAAS;MACjFA,gCAAqB;MAGXA,0BAAU;MAAAA,iBAAK;MACnBA,0BAAI;MAAAA,8BAAc;MAAAA,iBAAK;MACvBA,0BAAI;MAAAA,2BAAU;MAAAA,iBAAK;MACnBA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAClBA,2BAAI;MAAAA,2BAAU;MAAAA,iBAAK;MACnBA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGpBA,8BAAO;MACLA,wEAUK;MACPA,iBAAQ;;;MAXkBA,gBAAW;MAAXA,sCAAW","names":["i0","ViewStudentsComponent","constructor","studentService","ngOnInit","getStudents","subscribe","data","students","deleteStudent","studentId","confirm","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Student\\source\\repos\\Assignment_4_Angular_3135520\\src\\app\\components\\view-students\\view-students.component.html","C:\\Users\\Student\\source\\repos\\Assignment_4_Angular_3135520\\src\\app\\components\\view-students\\view-students.component.ts"],"sourcesContent":["<button class=\"btn btn-primary\" routerLink=\"/manage-student\">Add Student</button>\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th>Student Id</th>\n      <th>Student Number</th>\n      <th>First Name</th>\n      <th>Last Name</th>\n      <th>Birth Date</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let student of students\">\n      <td>{{student.studentId}}</td>\n      <td>{{student.studentNumber}}</td>\n      <td>{{student.firstName}}</td>\n      <td>{{student.lastName}}</td>\n      <td>{{student.birthDate | date:'yyyy-MM-dd'}}</td>\n      <td>\n        <button class=\"btn btn-warning\" [routerLink]=\"['/manage-student', student.studentId]\">Edit</button>\n        <button class=\"btn btn-danger\" (click)=\"deleteStudent(student.studentId)\">Delete</button>\n      </td>\n    </tr>\n  </tbody>\n</table>","import { Component, OnInit } from '@angular/core';\nimport { Student } from '../../models/student.model';\nimport { StudentService } from '../../services/student.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-students',\n  templateUrl: './view-students.component.html',\n  styleUrls: ['./view-students.component.css']\n})\nexport class ViewStudentsComponent implements OnInit {\n  students: Student[] = [];\n\n  constructor(private studentService: StudentService) { }\n\n  ngOnInit(): void {\n    this.getStudents();\n  }\n\n  private getStudents() {\n    this.studentService.getStudents().subscribe(data => {\n      this.students = data;\n    });\n  }\n\n  deleteStudent(studentId: number) {\n    if(confirm('Are you sure you want to delete this student?')) {\n      this.studentService.deleteStudent(studentId).subscribe(() => {\n        this.getStudents();\n      });\n    }\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}